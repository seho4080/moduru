import time
import os
import requests
import json
from dotenv import load_dotenv


load_dotenv()
gms_key = os.getenv("GMS_KEY")

url = "https://gms.ssafy.io/gmsapi/api.openai.com/v1/chat/completions"
headers = {"Content-Type": "application/json", "Authorization": f"Bearer {gms_key}"}
data = {
    "model": "gpt-4.1-nano",
    "messages": [
        {"role": "system", "content": "Summarize the following text in Korean with 3 sentences."},
        {
            "role": "user",
            "content": """
            스마트시티는 정보통신기술(ICT)을 도시 전반에 적용하여 효율성과 지속가능성을 높이는 도시 모델로, 최근 전 세계적으로 빠르게 확산되고 있다. 
            이 개념은 단순한 기술적 변화에 머물지 않고, 도시 거버넌스, 시민 참여, 삶의 질 향상 등 사회 전반에 걸쳐 깊은 영향을 미친다. 
            예를 들어, 교통 분야에서는 실시간 데이터 분석을 기반으로 교통 흐름을 조절하고, 자율주행 차량과 스마트 교통 신호체계를 도입해 교통 체증과 사고를 줄이고 있다. 
            환경 분야에서도 스마트센서를 활용한 대기질 모니터링, 에너지 효율화 시스템, 스마트 쓰레기통 등이 보급되며, 도시의 탄소 배출을 줄이는 데 기여하고 있다. 
            치안 및 안전 측면에서도 AI 기반 CCTV와 얼굴 인식 기술을 통해 범죄 예방 및 신속한 대응이 가능해졌다. 
            이러한 기술들은 시민의 안전과 편의성을 높이지만, 동시에 사생활 침해 우려도 낳고 있다. 
            또한 스마트 헬스케어 시스템은 원격진료, 웨어러블 디바이스, 빅데이터 기반 예측의료 등으로 의료 서비스를 더 빠르고 정확하게 제공하고 있다. 
            그러나 이러한 변화가 모든 계층에 동등하게 적용되는 것은 아니다. 
            디지털 접근성이 낮은 고령층이나 저소득층은 새로운 시스템을 이용하는 데 어려움을 겪을 수 있으며, 이는 디지털 소외 문제로 이어진다. 
            또한 도시 간 격차도 심화될 수 있는데, 대도시는 스마트 인프라를 빠르게 도입하는 반면, 지방 중소도시는 재정과 인력 부족으로 인해 도입 속도가 느리다. 
            이에 따라 스마트시티가 양극화를 심화시키는 요인이 될 수 있다는 비판도 제기되고 있다. 
            더 나아가 스마트시티는 시민의 데이터를 기반으로 운영되는 만큼, 데이터 보안과 개인정보 보호 문제는 반드시 해결되어야 할 과제다. 
            일각에서는 정부나 기업이 데이터를 과도하게 수집하고 감시의 수단으로 활용할 수 있다는 우려도 존재한다. 
            이러한 기술 기반 사회에서 시민의 권리를 보호하기 위한 법적, 제도적 장치 마련이 시급하다는 목소리가 커지고 있다. 
            반면에, 스마트시티는 시민의 적극적 참여를 통해 더욱 투명하고 민주적인 도시 운영을 가능하게 한다는 주장도 있다. 
            스마트 플랫폼을 통해 시민이 정책 결정 과정에 실시간으로 참여하거나, 지역 문제를 직접 제안하고 해결에 동참할 수 있는 시스템이 확산되고 있다. 
            예컨대 일부 도시는 스마트시민 앱을 통해 쓰레기 신고, 조명 고장 신고, 교통 불편 접수 등을 간편하게 처리하고 있다. 
            이런 시스템은 행정의 효율성을 높일 뿐 아니라 시민의 만족도도 향상시킨다. 
            궁극적으로 스마트시티는 기술 중심이 아니라 사람 중심의 도시를 지향해야 하며, 이를 위해서는 기술과 인간, 공공성과 개인권리가 균형을 이루는 설계가 필수적이다. 
            기술이 아닌 시민의 삶의 질을 중심에 두는 접근이 지속가능한 스마트시티의 핵심이다. 
            따라서 앞으로의 스마트시티 정책은 단순한 기술 도입을 넘어서, 도시의 포용성, 공정성, 시민 참여를 아우르는 다차원적 전략이 필요하다.
        """,
        },
    ],
    "max_tokens": 4096,
    "temperature": 0.3,
}

start_time = time.time()  # 시작 시간 측정
response = requests.post(url, headers=headers, data=json.dumps(data))
end_time = time.time()  # 종료 시간 측정

print(response.status_code)
print(response.json())

print(f"\n실행 시간: {end_time - start_time:.2f}초")
